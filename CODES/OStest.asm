;  _      _        ____   _____ 
; | |    (_)      / __ \ / ____|
; | |     ___   _| |  | | (___  
; | |    | \ \ / / |  | |\___ \ 
; | |____| |\ V /| |__| |____) |
; |______|_| \_/  \____/|_____/
; (testing version) alpha 0.1b
BOOT:
LXI SP,11FFH
CALL DELB
CALL DISP_INIT
CALL DELB
MVI A,4CH
CALL PRINT
MVI A,69H
CALL PRINT
MVI A,76H
CALL PRINT
MVI A,4FH
CALL PRINT
MVI A,53H
CALL PRINT
MVI A,20H
CALL PRINT
MVI A,30H
CALL PRINT
MVI A,2EH
CALL PRINT
MVI A,31H
CALL PRINT
MVI A,62H
CALL PRINT
CALL DELB
CALL DELB
CALL DISP_INIT
CALL DELB
MVI A,53H
CALL PRINT
MVI A,65H
CALL PRINT
MVI A,6CH
CALL PRINT
MVI A,65H
CALL PRINT
MVI A,63H
CALL PRINT
MVI A,74H
CALL PRINT
MVI A,20H
CALL PRINT
MVI A,70H
CALL PRINT
MVI A,72H
CALL PRINT
MVI A,6FH
CALL PRINT
MVI A,67H
CALL PRINT
MVI A,72H
CALL PRINT
MVI A,61H
CALL PRINT
MVI A,6DH
CALL PRINT
CALL DELB
PROGR:
MVI D,00H
CALL DELB
CALL DISP_INIT
CALL DELB
MVI A,3EH
CALL PRINT
MVI A,4BH
CALL PRINT
MVI A,41H
CALL PRINT
MVI A,56H
CALL PRINT
CALL NEWL
L2:
MVI A,20H
CALL PRINT
MVI A,4EH
CALL PRINT
MVI A,41H
CALL PRINT
MVI A,4DH
CALL PRINT
MVI A,45H
CALL PRINT
MOV A,D
CPI 00H
JZ ROUT
CALL NEWL
MVI A,3EH
CALL PRINT
MVI A,4CH
CALL PRINT
MVI A,45H
CALL PRINT
MVI A,44H
CALL PRINT 
ROUT:
LDA 2800H
CPI 5BH
JZ DOWN
CPI 5DH
JZ UP
CPI 0DH
JZ SEL
JMP ROUT


DOWN:
MOV A,D
CPI 02H
JZ ROUT
CPI 00H
JNZ D2
MVI D,01H
CALL HOME
CALL DELB
MVI A,20H
CALL PRINT
CALL NEWL
MVI A,3EH
CALL PRINT
JMP ROUT

D2:
MVI D,02H
CALL DISP_INIT
CALL DELB
JMP L2

UP:
MOV A,D
CPI 00H
JZ ROUT
CPI 01H
JZ PROGR
MVI D,01H
CALL NEWL
MVI A,20H
CALL PRINT
CALL HOME
CALL DELB
MVI A,3EH
CALL PRINT
JMP ROUT

SEL:
MOV A,D
CPI 00H
JZ P1
CPI 01H
JZ P2
JMP P3

P1:
CALL DELB
CALL DISP_INIT
CALL DELB
MVI A,4EH
CALL PRINT
CALL DELB
MVI A,69H
CALL PRINT
CALL DELB
MVI A,6BH
CALL PRINT
CALL DELB
MVI A,6FH
CALL PRINT
CALL DELB
MVI A,20H
CALL PRINT
CALL DELB
MVI A,65H
CALL PRINT
CALL DELB
MVI A,69H
CALL PRINT
CALL DELB
MVI A,73H
CALL PRINT
CALL DELB
MVI A,61H
CALL PRINT
CALL DELB
MVI A,69H
CALL PRINT
CALL DELB
CALL NEWL
CALL DELB
MVI A,6BH
CALL PRINT
CALL DELB
MVI A,61H
CALL PRINT
CALL DELB
MVI A,76H
CALL PRINT
CALL DELB
MVI A,6CH
CALL PRINT
CALL DELB
MVI A,69H
CALL PRINT
CALL DELB
MVI A,61H
CALL PRINT
CALL DELB
MVI A,72H
CALL PRINT
CALL DELB
MVI A,69H
CALL PRINT
CALL DELB
MVI A,73H
CALL PRINT
CALL DELB
RET1:
CALL KEYB
CPI 7FH
JZ PROGR
JMP RET1

P2:
CALL DELB
CALL DISP_INIT
CALL DELB
MVI A,47H
CALL PRINT
CALL DELB
MVI A,69H
CALL PRINT
CALL DELB
MVI A,76H
CALL PRINT
CALL DELB
MVI A,65H
CALL PRINT
CALL DELB
MVI A,20H
CALL PRINT
CALL DELB
MVI A,4EH
CALL PRINT
CALL DELB
MVI A,61H
CALL PRINT
CALL DELB
MVI A,6DH
CALL PRINT
CALL DELB
MVI A,65H
CALL PRINT
CALL DELB
MVI A,3AH
CALL PRINT
CALL DELB
CALL NEWL
CALL DELB
LXI H,1300H
NAM:
CALL KEYB
NOP
NOP
MOV M,A
CPI 0DH
JZ NEX
CALL PRINT
NOP
NOP
CALL DELB
NOP
NOP
INX H
JMP NAM
NEX:
CALL DISP_INIT
CALL DELB
MVI A,48H
CALL PRINT
CALL DELB
MVI A,65H
CALL PRINT
CALL DELB
MVI A,6CH
CALL PRINT
CALL DELB
MVI A,6CH
CALL PRINT
CALL DELB
MVI A,6FH
CALL PRINT
CALL DELB
MVI A,2CH
CALL PRINT
CALL DELB
CALL NEWL
CALL DELB
LXI H,1300H
PR:
MOV A,M
INX H
CPI 0DH
JZ RET2
CALL PRINT
CALL DELB
JMP PR
RET2:
CALL KEYB
CPI 7FH
JZ PROGR
JMP RET2

P3:
MVI A,07H
RE:
STA 2000H
RLC
MOV D,A
CALL DELB
LDA 2800H
CPI 7FH
JZ PROGR
MOV A,D
JMP RE

KEYB:
LDA 2800H
LDA 2800H
CPI 00H
JZ KEYB
RET

DISP_INIT:
MVI A,01H
STA 5000H
NOP
NOP
NOP
NOP
MVI A,00H
STA 4800H
NOP
NOP
NOP
NOP
MVI A,01H
STA 4800H
NOP
NOP
NOP
NOP
MVI A,00H
STA 4800H
NOP
NOP
NOP
NOP
MVI A,3CH
STA 5000H
NOP
NOP
NOP
NOP
MVI A,00H
STA 4800H
NOP
NOP
NOP
NOP
MVI A,01H
STA 4800H
NOP
NOP
NOP
NOP
MVI A,00H
STA 4800H
NOP
NOP
NOP
NOP
MVI A,0EH
STA 5000H
NOP
NOP
NOP
NOP
MVI A,00H
STA 4800H
NOP
NOP
NOP
NOP
MVI A,01H
STA 4800H
NOP
NOP
NOP
NOP
MVI A,00H
STA 4800H
NOP
NOP
NOP
NOP
MVI A,06H
STA 5000H
NOP
NOP
NOP
NOP
MVI A,00H
STA 4800H
NOP
NOP
NOP
NOP
MVI A,01H
STA 4800H
NOP
NOP
NOP
NOP
MVI A,00H
STA 4800H
RET

PRINT:
STA 5000H
NOP
NOP
NOP
NOP
MVI A,04H
STA 4800H
NOP
NOP
NOP
NOP
MVI A,05H
STA 4800H
NOP
NOP
NOP
NOP
MVI A,04H
STA 4800H
RET

DELB:
LXI B,9999H
LO2:
DCX B  
MOV A,B  
ORA C  
JNZ LO2
RET

NEWL:
MVI A,C0H
STA 5000H
NOP
NOP
NOP
NOP
MVI A,00H
STA 4800H
NOP
NOP
NOP
NOP
MVI A,01H
STA 4800H
NOP
NOP
NOP
NOP
MVI A,00H
STA 4800H
RET

HOME:
MVI A,02H
STA 5000H
NOP
NOP
NOP
NOP
MVI A,00H
STA 4800H
NOP
NOP
NOP
NOP
MVI A,01H
STA 4800H
NOP
NOP
NOP
MVI A,00H
STA 4800H
RET
