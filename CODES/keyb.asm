.ORG 0080H
LXI SP,11FFH
CALL DELB
CALL DISP_INIT
CALL DELB
RE:
MVI A,00H
CALL KEYB
NOP
NOP
CALL PRINT
NOP
NOP
CALL DELB
NOP
NOP
JMP RE

KEYB:
LDA 2800H
LDA 2800H
STA 2000H
CPI 20H
JC KEYB
CPI 7EH
JNC KEYB
RET
DISP_INIT:
MVI A,01H
STA 5000H
NOP
NOP
NOP
NOP
MVI A,00H
STA 4800H
NOP
NOP
NOP
NOP
MVI A,01H
STA 4800H
NOP
NOP
NOP
NOP
MVI A,00H
STA 4800H
NOP
NOP
NOP
NOP
MVI A,3CH
STA 5000H
NOP
NOP
NOP
NOP
MVI A,00H
STA 4800H
NOP
NOP
NOP
NOP
MVI A,01H
STA 4800H
NOP
NOP
NOP
NOP
MVI A,00H
STA 4800H
NOP
NOP
NOP
NOP
MVI A,0EH
STA 5000H
NOP
NOP
NOP
NOP
MVI A,00H
STA 4800H
NOP
NOP
NOP
NOP
MVI A,01H
STA 4800H
NOP
NOP
NOP
NOP
MVI A,00H
STA 4800H
NOP
NOP
NOP
NOP
MVI A,06H
STA 5000H
NOP
NOP
NOP
NOP
MVI A,00H
STA 4800H
NOP
NOP
NOP
NOP
MVI A,01H
STA 4800H
NOP
NOP
NOP
NOP
MVI A,00H
STA 4800H
RET

PRINT:
STA 5000H
NOP
NOP
NOP
NOP
MVI A,04H
STA 4800H
NOP
NOP
NOP
NOP
MVI A,05H
STA 4800H
NOP
NOP
NOP
NOP
MVI A,04H
STA 4800H
RET

DELB:
LXI B,7777H
LO2:
DCX B  
MOV A,B  
ORA C  
JNZ LO2
RET

NEWL:
MVI A,C0H
STA 5000H
NOP
NOP
NOP
NOP
MVI A,00H
STA 4800H
NOP
NOP
NOP
NOP
MVI A,01H
STA 4800H
NOP
NOP
NOP
NOP
MVI A,00H
STA 4800H
RET

HOME:
MVI A,02H
STA 5000H
NOP
NOP
NOP
NOP
MVI A,00H
STA 4800H
NOP
NOP
NOP
NOP
MVI A,01H
STA 4800H
NOP
NOP
NOP
NOP
MVI A,00H
STA 4800H
RET
